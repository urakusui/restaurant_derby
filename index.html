<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>王将ダービー - 修正版</title>
<style>
  body { font-family: sans-serif; background: #f5f5f5; margin: 0; padding: 20px; }
  .box { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); position: relative; }
  
  /* モーダルの背景 */
  .modal-overlay {
    display: none; /* 最初は隠す */
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.8);
    z-index: 1000;
    justify-content: center;
    align-items: center;
  }

  /* モーダルが「表示中」の時のスタイル */
  .modal-overlay.is-visible {
    display: flex;
  }

  .modal-content {
    background: #fff;
    padding: 25px;
    border-radius: 12px;
    width: 80%;
    max-width: 400px;
  }

  .btn-help {
    position: absolute; top: 10px; right: 10px;
    width: 40px; height: 40px; border-radius: 50%;
    background: #444; color: #fff; border: none;
    font-size: 20px; cursor: pointer;
  }

  button { width: 100%; padding: 12px; margin-top: 10px; cursor: pointer; border: none; border-radius: 6px; font-weight: bold; }
  .btn-close { background: #C62828; color: #fff; }
  .btn-main { background: #2E7D32; color: #fff; }
  
  ul { padding-left: 20px; line-height: 1.6; }
</style>
</head>
<body>

<div class="box">
  <h2>王将ダービー</h2>
  <button type="button" class="btn-help" onclick="toggleHelp()">？</button>
  
  <p>メニューを登録してレースを開始してください。</p>
  <button class="btn-main">出走表を作成（テスト用）</button>
</div>

<div id="modal-help" class="modal-overlay" onclick="toggleHelp()">
  <div class="modal-content" onclick="event.stopPropagation()">
    <h3>遊び方ガイド</h3>
    <ul>
      <li>メニューを3つ以上入力します。</li>
      <li>「出走表」で各メニューの倍率を確認。</li>
      <li>誰が届くか予想して、到着順に入力。</li>
      <li>見事的中すればポイントゲット！</li>
    </ul>
    <button type="button" class="btn-close" onclick="toggleHelp()">閉じる</button>
  </div>
</div>

<script>
  /**
   * ヘルプを表示・非表示にする関数
   */
  function toggleHelp() {
    const modal = document.getElementById('modal-help');
    // クラス「is-visible」があれば消し、なければ付ける
    modal.classList.toggle('is-visible');
  }
</script>

</body>
</html>
